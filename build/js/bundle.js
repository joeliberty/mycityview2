var CryptoJS=CryptoJS||function(e,t){var r={},n=r.lib={},i=function(){},a=n.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=a.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var i=0;e>i;i++)t[n+i>>>2]|=(r[i>>>2]>>>24-8*(i%4)&255)<<24-8*((n+i)%4);else if(65535<r.length)for(i=0;e>i;i+=4)t[n+i>>>2]=r[i>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-8*(r%4),t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;t>n;n+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;e>n;n++){var i=t[n>>>2]>>>24-8*(n%4)&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;t>n;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-4*(n%8);return new o.init(r,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;e>n;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-8*(n%4)&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;t>n;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-8*(n%4);return new o.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},p=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*a,i=e.min(4*t,i),t){for(var c=0;t>c;c+=a)this._doProcessBlock(n,c);c=n.splice(0,t),r.sigBytes-=i}return new o.init(c,i)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}});var f=r.algo={};return r}(Math);!function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var i=0;r>i;i+=3)for(var a=(t[i>>>2]>>>24-8*(i%4)&255)<<16|(t[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|t[i+2>>>2]>>>24-8*((i+2)%4)&255,o=0;4>o&&r>i+.75*o;o++)e.push(n.charAt(a>>>6*(3-o)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map,i=n.charAt(64);i&&(i=e.indexOf(i),-1!=i&&(r=i));for(var i=[],a=0,o=0;r>o;o++)if(o%4){var s=n.indexOf(e.charAt(o-1))<<2*(o%4),c=n.indexOf(e.charAt(o))>>>6-2*(o%4);i[a>>>2]|=(s|c)<<24-8*(a%4),a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,r,n,i,a,o){return e=e+(t&r|~t&n)+i+o,(e<<a|e>>>32-a)+t}function r(e,t,r,n,i,a,o){return e=e+(t&n|r&~n)+i+o,(e<<a|e>>>32-a)+t}function n(e,t,r,n,i,a,o){return e=e+(t^r^n)+i+o,(e<<a|e>>>32-a)+t}function i(e,t,r,n,i,a,o){return e=e+(r^(t|~n))+i+o,(e<<a|e>>>32-a)+t}for(var a=CryptoJS,o=a.lib,s=o.WordArray,c=o.Hasher,o=a.algo,l=[],u=0;64>u;u++)l[u]=4294967296*e.abs(e.sin(u+1))|0;o=o.MD5=c.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,a){for(var o=0;16>o;o++){var s=a+o,c=e[s];e[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var o=this._hash.words,s=e[a+0],c=e[a+1],u=e[a+2],p=e[a+3],f=e[a+4],h=e[a+5],d=e[a+6],m=e[a+7],g=e[a+8],_=e[a+9],v=e[a+10],y=e[a+11],b=e[a+12],w=e[a+13],S=e[a+14],k=e[a+15],$=o[0],x=o[1],C=o[2],E=o[3],$=t($,x,C,E,s,7,l[0]),E=t(E,$,x,C,c,12,l[1]),C=t(C,E,$,x,u,17,l[2]),x=t(x,C,E,$,p,22,l[3]),$=t($,x,C,E,f,7,l[4]),E=t(E,$,x,C,h,12,l[5]),C=t(C,E,$,x,d,17,l[6]),x=t(x,C,E,$,m,22,l[7]),$=t($,x,C,E,g,7,l[8]),E=t(E,$,x,C,_,12,l[9]),C=t(C,E,$,x,v,17,l[10]),x=t(x,C,E,$,y,22,l[11]),$=t($,x,C,E,b,7,l[12]),E=t(E,$,x,C,w,12,l[13]),C=t(C,E,$,x,S,17,l[14]),x=t(x,C,E,$,k,22,l[15]),$=r($,x,C,E,c,5,l[16]),E=r(E,$,x,C,d,9,l[17]),C=r(C,E,$,x,y,14,l[18]),x=r(x,C,E,$,s,20,l[19]),$=r($,x,C,E,h,5,l[20]),E=r(E,$,x,C,v,9,l[21]),C=r(C,E,$,x,k,14,l[22]),x=r(x,C,E,$,f,20,l[23]),$=r($,x,C,E,_,5,l[24]),E=r(E,$,x,C,S,9,l[25]),C=r(C,E,$,x,p,14,l[26]),x=r(x,C,E,$,g,20,l[27]),$=r($,x,C,E,w,5,l[28]),E=r(E,$,x,C,u,9,l[29]),C=r(C,E,$,x,m,14,l[30]),x=r(x,C,E,$,b,20,l[31]),$=n($,x,C,E,h,4,l[32]),E=n(E,$,x,C,g,11,l[33]),C=n(C,E,$,x,y,16,l[34]),x=n(x,C,E,$,S,23,l[35]),$=n($,x,C,E,c,4,l[36]),E=n(E,$,x,C,f,11,l[37]),C=n(C,E,$,x,m,16,l[38]),x=n(x,C,E,$,v,23,l[39]),$=n($,x,C,E,w,4,l[40]),E=n(E,$,x,C,s,11,l[41]),C=n(C,E,$,x,p,16,l[42]),x=n(x,C,E,$,d,23,l[43]),$=n($,x,C,E,_,4,l[44]),E=n(E,$,x,C,b,11,l[45]),C=n(C,E,$,x,k,16,l[46]),x=n(x,C,E,$,u,23,l[47]),$=i($,x,C,E,s,6,l[48]),E=i(E,$,x,C,m,10,l[49]),C=i(C,E,$,x,S,15,l[50]),x=i(x,C,E,$,h,21,l[51]),$=i($,x,C,E,b,6,l[52]),E=i(E,$,x,C,p,10,l[53]),C=i(C,E,$,x,v,15,l[54]),x=i(x,C,E,$,c,21,l[55]),$=i($,x,C,E,g,6,l[56]),E=i(E,$,x,C,k,10,l[57]),C=i(C,E,$,x,d,15,l[58]),x=i(x,C,E,$,w,21,l[59]),$=i($,x,C,E,f,6,l[60]),E=i(E,$,x,C,y,10,l[61]),C=i(C,E,$,x,u,15,l[62]),x=i(x,C,E,$,_,21,l[63]);o[0]=o[0]+$|0,o[1]=o[1]+x|0,o[2]=o[2]+C|0,o[3]=o[3]+E|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var a=e.floor(n/4294967296);for(r[(i+64>>>9<<4)+15]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r[(i+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(r.length+1),this._process(),t=this._hash,r=t.words,n=0;4>n;n++)i=r[n],r[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=c._createHelper(o),a.HmacMD5=c._createHmacHelper(o)}(Math),function(){var e=CryptoJS,t=e.lib,r=t.Base,n=t.WordArray,t=e.algo,i=t.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,i=r.hasher.create(),a=n.create(),o=a.words,s=r.keySize,r=r.iterations;o.length<s;){c&&i.update(c);var c=i.update(e).finalize(t);i.reset();for(var l=1;r>l;l++)c=i.finalize(c),i.reset();a.concat(c)}return a.sigBytes=4*s,a}});e.EvpKDF=function(e,t,r){return i.create(r).compute(e,t)}}(),CryptoJS.lib.Cipher||function(e){var t=CryptoJS,r=t.lib,n=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,o=t.enc.Base64,s=t.algo.EvpKDF,c=r.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,r,n){return("string"==typeof r?d:h).encrypt(e,t,r,n)},decrypt:function(t,r,n){return("string"==typeof r?d:h).decrypt(e,t,r,n)}}}});r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=t.mode={},u=function(t,r,n){var i=this._iv;i?this._iv=e:i=this._prevBlock;for(var a=0;n>a;a++)t[r+a]^=i[a]},p=(r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();p.Encryptor=p.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize;u.call(this,e,t,n),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),p.Decryptor=p.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=e.slice(t,t+n);r.decryptBlock(e,t),u.call(this,e,t,n),this._prevBlock=i}}),l=l.CBC=p,p=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,r=r-e.sigBytes%r,n=r<<24|r<<16|r<<8|r,a=[],o=0;r>o;o+=4)a.push(n);r=i.create(a,r),e.concat(r)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:l,padding:p}),reset:function(){c.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=e.createEncryptor;else r=e.createDecryptor,this._minBufferSize=1;this._mode=r.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),l=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){e=o.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var r=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:r})}},h=r.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n);return t=i.finalize(t),i=i.cfg,f.create({ciphertext:t,key:r,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){return n||(n=i.random(8)),e=s.create({keySize:t+r}).compute(e,n),r=i.create(e.words.slice(t),4*r),e.sigBytes=4*t,f.create({key:e,iv:r,salt:n})}},d=r.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:t}),encrypt:function(e,t,r,n){return n=this.cfg.extend(n),r=n.kdf.execute(r,e.keySize,e.ivSize),n.iv=r.iv,e=h.encrypt.call(this,e,t,r.key,n),e.mixIn(r),e},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),r=n.kdf.execute(r,e.keySize,e.ivSize,t.salt),n.iv=r.iv,h.decrypt.call(this,e,t,r.key,n)}})}(),function(){for(var e=CryptoJS,t=e.lib.BlockCipher,r=e.algo,n=[],i=[],a=[],o=[],s=[],c=[],l=[],u=[],p=[],f=[],h=[],d=0;256>d;d++)h[d]=128>d?d<<1:d<<1^283;for(var m=0,g=0,d=0;256>d;d++){var _=g^g<<1^g<<2^g<<3^g<<4,_=_>>>8^255&_^99;n[m]=_,i[_]=m;var v=h[m],y=h[v],b=h[y],w=257*h[_]^16843008*_;a[m]=w<<24|w>>>8,o[m]=w<<16|w>>>16,s[m]=w<<8|w>>>24,c[m]=w,w=16843009*b^65537*y^257*v^16843008*m,l[_]=w<<24|w>>>8,u[_]=w<<16|w>>>16,p[_]=w<<8|w>>>24,f[_]=w,m?(m=v^h[h[h[b^v]]],g^=h[h[g]]):m=g=1}var S=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes/4,e=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],a=0;e>a;a++)if(r>a)i[a]=t[a];else{var o=i[a-1];a%r?r>6&&4==a%r&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=o<<8|o>>>24,o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=S[a/r|0]<<24),i[a]=i[a-r]^o}for(t=this._invKeySchedule=[],r=0;e>r;r++)a=e-r,o=r%4?i[a]:i[a-4],t[r]=4>r||4>=a?o:l[n[o>>>24]]^u[n[o>>>16&255]]^p[n[o>>>8&255]]^f[n[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,o,s,c,n)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,u,p,f,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,a,o,s){for(var c=this._nRounds,l=e[t]^r[0],u=e[t+1]^r[1],p=e[t+2]^r[2],f=e[t+3]^r[3],h=4,d=1;c>d;d++)var m=n[l>>>24]^i[u>>>16&255]^a[p>>>8&255]^o[255&f]^r[h++],g=n[u>>>24]^i[p>>>16&255]^a[f>>>8&255]^o[255&l]^r[h++],_=n[p>>>24]^i[f>>>16&255]^a[l>>>8&255]^o[255&u]^r[h++],f=n[f>>>24]^i[l>>>16&255]^a[u>>>8&255]^o[255&p]^r[h++],l=m,u=g,p=_;m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&f])^r[h++],g=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^r[h++],_=(s[p>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^r[h++],f=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^r[h++],e[t]=m,e[t+1]=g,e[t+2]=_,e[t+3]=f},keySize:8});e.AES=t._createHelper(r)}(),function(){var e=angular.module("mycity-directives",[]);e.directive("dayAstroQuote",function(){return{restrict:"E",templateUrl:"partials/day-astro-quote.html"}}),e.directive("header",function(){return{restrict:"E",templateUrl:"partials/header.html"}}),e.directive("forcast",function(){return{restrict:"E",templateUrl:"partials/forcast.html"}}),e.directive("news-movies",function(){return{restrict:"E",templateUrl:"partials/news-movies.html"}}),e.directive("yelp",function(){return{restrict:"E",templateUrl:"partials/yelp.html"}}),e.directive("faroo",function(){return{restrict:"E",templateUrl:"partials/faroo.html"}}),e.directive("movies",function(){return{restrict:"E",templateUrl:"partials/movies.html"}}),e.directive("map",function(){return{restrict:"E",templateUrl:"partials/map.html"}}),e.directive("events",function(){return{restrict:"E",templateUrl:"partials/events.html"}}),e.directive("headerImage",function(){return{restrict:"E",templateUrl:"partials/header-image.html"}}),e.directive("places",function(){return{restrict:"E",templateUrl:"partials/places.html"}}),e.directive("credits",function(){return{restrict:"E",templateUrl:"partials/credits.html"}}),e.directive("twitter",function(){return{restrict:"E",templateUrl:"partials/twitter.html"}}),e.directive("meetup",function(){return{restrict:"E",templateUrl:"partials/meetup.html"}}),e.directive("rates",function(){return{restrict:"E",templateUrl:"partials/rates.html"}}),e.directive("nearby",function(){return{restrict:"E",templateUrl:"partials/nearby.html"}}),e.directive("navbar",function(){return{restrict:"E",templateUrl:"partials/navbar.html"}}),e.directive("imageonload",function(){return{restrict:"A",link:function(e,t,r){t.bind("load",function(){$("#image_spinner, #image_spinner i").css("display","none"),$("#header_image img").css("display","block")})}}})}(),function(){"use strict";var e=angular.module("events_app",[]);e.factory("formatDate",function(){return{yyyy_mm_dd:function(e){var t=e.getDate(e);10>t&&(t="0"+t);var r=e.getMonth(e)+1;10>r&&(r="0"+r);var n=e.getFullYear(e);return n+"-"+r+"-"+t}}}),e.controller("EventsCtrl",["$scope","$rootScope","$http","formatDate",function(e,t,r,n){e.categories=[],e.find_events=function(i,a){e.spinner=!0;var o=this,s=t.city,c=new Date;c=n.yyyy_mm_dd(c),c=c.replace(/-/g,"")+"00";var l=c+"-"+c,u="10";e.events={events:{title:"Retreiving events for "+t.city+"."}};var p="";p=t.state?s+","+t.state+","+t.country:s+","+t.country;var f="php/get_event.php";r({url:f,dataType:"json",method:"GET",cache:!0,params:{location:p,date:l,category:a,page_size:u,sort_order:"popularity",page_number:i},config:{category:a}}).success(function(t,r,n,i){if(t.events){e.spinner=!1;var a;a=t.events.event.length?e.events=t.events.event:t.events;var s=[];$.each(a,function(e,t){var r={};r.image=null!==t.image?t.image.medium.url:"",r.title=null!==t.title?t.title:!1,r.url=null!==t.url?t.url:!1,r.venue_name=null!==t.venue_name?t.venue_name:!1,r.start_time=null!==t.start_time?t.start_time:!1;var n=o.clean_stop_time(r.start_time,t.stop_time);r.stop_time=null!==n?n:!1,r.description=null!==t.description?o.cleanIt(t.description):!1,r.venue_address=null!==t.venue_address?t.venue_address:!1,r.geocode_type=null!==t.geocode_type?o.checkGeocode(t.geocode_type):!1,r.latitude=null!==t.latitude?t.latitude:!1,r.longitude=null!==t.longitude?t.longitude:!1,s.push(r)}),$(".newspanel").scrollTop(0,0);var c=String(i.config.category),l="cat"+c;e[l]=c,e[c+"totalItems"]=t.total_items,e[c+"currentPage"]=t.page_number,e[c+"numOfPages"]=t.page_count,e[c+"itemsPerPage"]=u;var p=parseInt(e[c+"totalItems"])<=parseInt(e[c+"itemsPerPage"])?"none":"block";$("#"+l).css("display",p),e[c]=s}}),this.cleanIt=function(e){return e.replace(/(<([^>]+)>)/gi," ")},this.clean_stop_time=function(e,t){if(e&&t){var r=e.indexOf(" "),n=e.slice(0,r);r=t.indexOf(" ");var i=t.slice(0,r),a=t.slice(r);return a=n==i?a:t}},this.checkGeocode=function(e){return"EVDB Geocoder"==e?!1:!0}};for(var i=["attractions","art","business","clubs_associations","comedy","community","family_fun_kids","festivals_parades","fundraisers","learning_education","movies_film","music","outdoors_recreation","performing_arts","politics_activism","sales","singles_social","sports","support","technology"],a=0;a<i.length;a++)e.find_events(1,i[a]);e.setPage=function(t,r){e.find_events(t,r)}}]),e.directive("hmtext",function(){return{restrict:"EA",scope:{hmtext:"=hmtext",hmlimit:"=",hmfulltext:"="},templateUrl:"partials/moreless.html",controller:["$scope",function(e){e.toggleValue=function(){e.hmfulltext=e.hmfulltext===!0?!1:e.hmfulltext===!1?!0:!0}}]}}),e.directive("eventa",function(){return{restrict:"EA",scope:{url:"=",image:"=",title:"=",venuename:"=",start:"=",stop:"=",address:"="},templateUrl:"partials/eventsa.html"}}),e.directive("eventb",function(){return{restrict:"EA",scope:{geocode:"=",latitude:"=",longitude:"=",url:"="},templateUrl:"partials/eventsb.html"}}),e.filter("cleanTime",function(){return function(e){if(e){if(e.indexOf(" ")){var t=e.split(" "),r="00:00:00"!=t[1]?e:t[0];return r}return e}}}),e.filter("capitalize_fist_char",function(){return function(e){if(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return t=t.replace(/_/g," ")}}})}(),function(){"use strict";var e=angular.module("faroo_app",[]);e.controller("FarooCtrl",["$scope","$rootScope","$http","formatDate","$q",function(e,t,r,n,i){$(".tabs_container").css("visibility","visible"),e.is_search=!1,e.query="",e.find_news=function(t,n){e.news_spinner=!0,e.is_search=!1;var a=this,o="search"==n?e.query:n,s="php/get_faroo.php";r({url:s,dataType:"json",method:"GET",cache:!0,params:{start:10*(t-1)+1,query:o},config:{term:n,page:t}}).success(function(t,r,n,i){if(t){e.news_spinner=!1,$(".newspanel").scrollTop(0,0);var o=String(i.config.term),s=String(i.config.page);t.currentPage=s,a.isImage(t,o);var c=parseInt(t.count/10);$(".newspanel").css("display","block");var l=1>=c?"false":"true";e["is_"+o]=l}}),this.isImage=function(t,r){$.each(t.results,function(e,t){var r=i.defer(),n=new Image;n.onerror=function(){r.resolve(!1)},n.onload=function(){r.resolve(!0)},n.src=t.iurl,r.promise.then(function(e){e||(t.iurl="")})}),e[r]=t}},e.setPage=function(t,r){e.find_news(t,r)};for(var a=["world","technology","entertainment","sports","travel","music"],o=0;o<a.length;o++)e.find_news(1,a[o]);e.submit=function(){return""===this.query?void alert("Please type in a search term."):(e.query=this.query.replace(" ","%20"),void e.find_news(1,"search"))}}]),e.directive("farootopic",function(){return{restrict:"EA",scope:{article:"=article",spinner:"="},templateUrl:"partials/farootopic.html"}})}(),function(){"use strict";var e=angular.module("astro_app",[]);e.controller("AstroCtrl",["$scope","$http","$rootScope",function(e,t,r){e.signs=[{name:"Aries",link:"images/astro/40px-Aries.svg.png"},{name:"Taurus",link:"images/astro/40px-Taurus.svg.png"},{name:"Gemini",link:"images/astro/40px-Gemini.svg.png"},{name:"Cancer",link:"images/astro/40px-Cancer.svg.png"},{name:"Leo",link:"images/astro/40px-Leo.svg.png"},{name:"Virgo",link:"images/astro/40px-Virgo.svg.png"},{name:"Libra",link:"images/astro/40px-Libra.svg.png"},{name:"Scorpio",link:"images/astro/40px-Scorpio.svg.png"},{name:"Sagittarius",link:"images/astro/40px-Sagittarius.svg.png"},{name:"Capricorn",link:"images/astro/40px-Capricorn.svg.png"},{name:"Aquarius",link:"images/astro/40px-Aquarius.svg.png"},{name:"Pisces",link:"images/astro/40px-Pisces.svg.png"}],e.horoscope="Choose your sign",e.call=function(r){e.horoscope="",$("#astro_horoscope i").css("display","inline-block"),t({url:"https://sender.blockspring.com/api_v2/blocks/dba3c2ca01c063df9cdf9fc6f0cf93f9?api_key=db81b1fa591380eb4110ff3093829176",method:"POST",dataType:"json",data:JSON.stringify({sign:r})}).success(function(t){$("#astro_horoscope i").css("display","none"),e.horoscope=t.horoscope})}}])}(),function(){"use strict";var e=angular.module("map_app",[]);e.controller("GetMapCtrl",["$scope","$rootScope",function(e,t){{var r=t.city_id,n=t.locs;t.city_state_country}t.lat_lng=new google.maps.LatLng(n[r].lat,n[r].lon),t.zoom=13;var i={zoom:13,center:t.lat_lng},a=new google.maps.Map(document.getElementById("map-canvas"),i);t.map=a;var o=[];t.markers=o;var s="";e.$watch("lat_lng",function(){var e=null,r=!1;if("object"==typeof t.lat_lng)e=t.lat_lng;else{for(var n=0;n<o.length;n++)o[n].setMap(null);var i=t.lat_lng.split(","),c=i[0],l=i[1];e=new google.maps.LatLng(c,l),r=!0}if(s=new google.maps.Marker({position:e,map:a}),a.setZoom(t.zoom),a.setCenter(s.getPosition()),o.push(s),r){var u,p=$("#map_container"),f=p.offset().top,h=p.height(),d=$(window).height();u=d>h?f-(d/2-h/2):f;var m=700;$("html, body").animate({scrollTop:u},m)}}),$("#copyright").css("display","inline-block")}]),e.controller("SetLatLng",["$scope","$rootScope",function(e,t){e.isCollapsed=!1,e.set_marker=function(e,r){var n,i;if("object"==typeof e){n=null,i=null;for(var a in e)if(e.hasOwnProperty(a))switch(a){case"F":i=e[a];break;case"lng":i=e[a];break;case"lon":i=e[a];break;case"longitude":i=e[a];break;case"A":n=e[a];break;case"lat":n=e[a];break;case"latitude":n=e[a];break;case"k":n=e[a];break;case"D":i=e[a]}}else n=e,i=r;t.lat_lng=n+", "+i,t.zoom=18}}])}(),function(){"use strict";var e=angular.module("meetup_app",[]);e.controller("meetupCtrl",["$scope","$rootScope","$http",function(e,t,r){var n=(new Date,new Date),i=new Date(n);i=i.setDate(n.getDate()+5),i=new Date(i);var a=t.city,o=t.state,s=t.country,c=t.locs,l=t.city_id,u=c[l].lat,p=c[l].lon,f="https://api.meetup.com/2/open_events?callback=?&lat="+u+"&country="+s+"&city="+a+"&state="+o+"&text=travel&lon="+p+"&key=5579136d5823c8054341258e452f",h=[];$("#meetup_spinner i").css("display","inline-block"),$.getJSON(f,function(t){$("#meetup_spinner i").css("display","none"),$.each(t.results,function(e,t){if(t.time<=i){var r={};r.city=a,r.name=t.name,r.group_name=t.group.name,r.description=t.description,r.join_mode=t.group.join_mode,r.who=t.group.who,r.why=t.why,r.how_to_find_us=t.how_to_find_us,"undefined"!=typeof t.venue&&(r.venue_name=t.venue.name,r.venue_address=t.venue.address,r.venue_city=t.venue.city,r.venue_phone=t.venue.phone);var n=new Date(t.time).toString();if(r.time=n.slice(0,21),"undefined"!=typeof t.fee&&(r.fee_amount=t.fee.amount,r.fee_currency=t.fee.currency,r.fee_description=t.fee.description),"undefined"!=typeof t.venue){var o=t.venue.lat,s=t.venue.lon;t.venue.lat&&t.venue.lon&&(r.point={lat:o,lon:s})}h.push(r)}}),e.meetup_unavailable=0===h.length?!0:!1,e.events=h}),e.select=function(t){e.selected=t===e.selected?null:t},e.isActive=function(t){return e.selected===t}}])}(),function(){"use strict";var e=angular.module("movie_app",["ui.bootstrap"]);e.controller("MovieCtrl",["$scope","$rootScope","$http",function(e,t,r){var n=t.city.replace(" ",",")+","+t.state;e.good_data=!0,e.theaters={events:{name:"Unavailable"}},r({url:"php/get_movies.php",dataType:"json",method:"GET",params:{city:n}}).success(function(t){t.length>0&&(e.theaters=t)})}]),e.filter("movie_times",function(){return function(e){return e.replace(/(&nbsp)*/g,"")}}),e.filter("theater_name",function(){return function(e,t){return null===e||-1!=e.indexOf(";&#")?(t.good_data=!1,"Unavailable"):(e.replace(/(&nbsp)*/g,""),e)}})}(),function(){"use strict";var e=angular.module("nearby_app",[]);e.controller("NearbyCtrl",["$scope","$rootScope",function(e,t){function r(t){var r;r=t?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.",e.set_message(r)}e.message="Select a place to find.",e.getCoordinates=function(n){e.what=n,e.set_message("Finding nearby "+n+"..."),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(r){t.user_lat=r.coords.latitude,t.user_lng=r.coords.longitude,e.find_nearby(t.user_lat,t.user_lng,n)},function(){r(!0)}):r(!1)},e.set_message=function(t){e.message=t},e.find_nearby=function(r,n,i){function a(r,n){if(r.length){var a=r.length>1?"locations":"location";if(e.set_message("Found "+r.length+" "+a+" for "+e.what+"."),n==google.maps.places.PlacesServiceStatus.OK){for(var o=0;o<r.length;o++)e.createMarker(r[o],h);t.map.fitBounds(c)}}else e.set_message("Sorry there were no "+i+"'s found in 500 meters of your area.")}function o(){for(var e=0;e<t.markers.length;e++)t.markers[e].setMap(null)}o();var s=new google.maps.LatLng(r,n),c=new google.maps.LatLngBounds,l=new google.maps.LatLng(r,n),u=new google.maps.Marker({position:l,map:t.map});c.extend(u.getPosition()),t.map.setCenter(u.getPosition()),t.markers.push(u);var p={location:s,rankBy:google.maps.places.RankBy.DISTANCE,types:[i]},f=new google.maps.InfoWindow,h=new google.maps.places.PlacesService($("#for_places").get(0));h.nearbySearch(p,a),e.getDetails=function(e,t){var r={placeId:e.place_id};t.getDetails(r,function(e,t){if(t==google.maps.places.PlacesServiceStatus.OK){if("undefined"!=typeof e.formatted_phone_number){var r=e.formatted_phone_number;r=r.replace(/ /g,""),r=r.replace("(",""),r=r.replace(")",""),e.formatted_phone_number&&$("#info_win_phone_detail").html("<a href=tel:"+r+">ph: "+e.formatted_phone_number+"</a>"),e.website&&$("#info_win_website").html('<a href="'+e.website+'"  target="blank">website</a>')}}else console.log("got error")})},e.createMarker=function(r,n){var i="009933",a=new google.maps.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|"+i,new google.maps.Size(21,34),new google.maps.Point(0,0),new google.maps.Point(10,34)),o=(r.geometry.location,new google.maps.Marker({map:t.map,position:r.geometry.location,icon:a}));c.extend(o.getPosition()),t.markers.push(o),google.maps.event.addListener(o,"click",function(){e.getDetails(r,n);var i="";if(i+="<div><strong>"+r.name+"</strong><br/>",r.rating&&(i+="Rating: "+r.rating+"<br/>"),r.price_level&&(i+="Price Level: "+r.price_level+"<br/>"),r.opening_hours){var a=r.opening_hours.open_now?"Yes":"No";i+="Open: "+a+"<br/>"}r.vicinity&&(i+=r.vicinity+"<br/>"),i+="<p><span id='info_win_phone_detail'></span>",i+="<span style='padding-left:12px;' id='info_win_website'></span></p>",f.setContent(i),f.open(t.map,this)})}},e.places=["airport","aquarium","art_gallery","atm","bakery","bank","bar","beauty_salon","bicycle_store","book_store","bowling_alley","bus_station","cafe","campground","car_dealer","car_rental","car_repair","car_wash","casino","church","clothing_store","convenience_store","dentist","department_store","doctor","electrician","electronics_store","fire_station","florist","food","furniture_store","gas_station","grocery_or_supermarket","gym","hair_care","hardware_store","hindu_temple","home_goods_store","hospital","jewelry_store","laundry","library","liquor_store","locksmith","lodging","meal_delivery","meal_takeaway","mosque","movie_rental","movie_theater","museum","night_club","park","parking","pet_store","pharmacy","place_of_worship","police","post_office","restaurant","rv_park","school","shoe_store","shopping_mall","spa","store","subway_station","synagogue","taxi_stand","train_station","university","veterinary_care","zoo"],e.status={isopen:!1},e.toggled=function(e){$log.log("Dropdown is now: ",e)},e.toggleDropdown=function(t){t.preventDefault(),t.stopPropagation(),e.status.isopen=!e.status.isopen}}]),e.filter("remove_underscore",function(){return function(e){return-1==e.indexOf("_")?e:e.replace(/_/g," ")}})}(),function(){"use strict";var e=angular.module("places_app",[]);e.controller("PlacesCtrl",["$scope","$http","$rootScope","$q",function(e,t,r,n){function i(t,r,n){if(r==google.maps.places.PlacesServiceStatus.OK){var i=new google.maps.places.PlacesService($("#for_places").get(0));e.places=[];for(var a=0;a<t.length;a++)u(a,t,i)}}var a=r.city_id,o=r.locs,s=new google.maps.LatLng(o[a].lat,o[a].lon),c={location:s,radius:500,types:["amusement_park","aquarium","art_gallery","casino","gym","library","movie_theater","museum","night_club","park","shopping_mall","spa","stadium","train_station","zoo"]},l=new google.maps.places.PlacesService($("#for_places").get(0));l.nearbySearch(c,i);var u=function(e,t,r){!function(e){setTimeout(function(){var n={placeId:t[e].place_id};r.getDetails(n,function(e,t){if(t==google.maps.places.PlacesServiceStatus.OK){var r="undefined"!=typeof e.photos?e.photos[0].getUrl({maxWidth:200,maxHeight:200}):null;if(!r)return;p(r,e)}else console.log("got error")})},1e3+1e3*e)}(e)},p=function(t,r){var i=n.defer(),a=new Image;a.onerror=function(){i.resolve(!1)},a.onload=function(){i.resolve(!0)},a.src=t,i.promise.then(function(n){n?(r.url=t,e.places.push(r)):(r.url=!1,e.places.push(r))})}}]),e.filter("formatType",function(){return function(e){if(-1==e.indexOf("_"))return e;for(var t=e.split("_"),r="",n=0;n<t.length;n++){var i=t[n];i=i.charAt(0).toUpperCase()+i.slice(1),r+=i+" "}return r}})}(),function(){"use strict";var e=angular.module("quote_app",[]);e.controller("QuoteCtrl",["$scope","$http",function(e,t){var r=this,n=300,i=[];t.get("js/quotes.json").success(function(t){$.each(t,function(){var e={};e.quote=this.quote,e.author=this.author,i.push(e)});var a=Math.floor(Math.random()*i.length),o=i[a];e.fullquote=o.quote,e.author="--"+o.author,e.toggle_quote=!0,e.fullquote.length<=n?e.quote=e.fullquote:r.get_less_n_more("less")}),this.get_less_n_more=function(t){e.quote="less"==t?e.fullquote.substring(0,n)+"<span class=more>... more</span>":e.fullquote.substring(0,e.fullquote.length)+"<span class=less> less</span>"},e.toggle_more_less=function(){e.toggle_quote?(e.toggle_quote=!1,r.get_less_n_more("more")):(e.toggle_quote=!0,r.get_less_n_more("less"))}}])}(),function(){"use strict";var e=angular.module("rates_app",["ui.bootstrap"]);e.controller("RatesCtrl",["$scope","$rootScope","$http",function(e,t,r){var n=this;e.amount=1,e.currencies=[],e.base_rates=["USD","AUD","EUR"],e.sel_grp=["USD","EUR","GBP","INR","AUD","CAD","CNY","NZD","JPY","RUB"],r.get("js/currencies.json").success(function(t){e.all_currencies=t;for(var r=0;r<e.base_rates.length;r++){for(var i="",a=0;a<e.sel_grp.length;a++)i+="'"+e.base_rates[r]+e.sel_grp[a]+"',";i=i.substring(0,i.length-1);var o="https://query.yahooapis.com/v1/public/yql?q=select * from yahoo.finance.xchange where pair in ("+i+")&format=json&diagnostics=true&env=store://datatables.org/alltableswithkeys&callback=";$.getJSON(o,function(t){var r={};$.each(t.query.results.rate,function(t,i){var a=i.id;e.base=a.slice(0,3),r.sortid=e.base_rates.indexOf(e.base),i.country=a.slice(3),i.fullname=n.get_full_names(a.slice(3),e.all_currencies)}),r.base=e.base,r.fullname=n.get_full_names(e.base,e.all_currencies),r.rates=t.query.results.rate,e.currencies.push(r),e.currencies.length==e.base_rates.length&&e.currencies.sort(n.compare)})}}),this.compare=function(e,t){return e.sortid<t.sortid?-1:e.sortid>t.sortid?1:0},this.get_full_names=function(e,t){for(var r in t)if(t.hasOwnProperty(r)&&r===e)return t[r]}}])}(),function(){"use strict";var e=angular.module("time_app",[]);

e.controller("GetTimeCtrl",["$scope","$rootScope","$http",function(e,t,r){var n=t.city_id,i=t.locs,a=CryptoJS.AES.decrypt("U2FsdGVkX19chVesPhEt4kavFEA2gU1flPvBpDcAz0w=","secret"),o=a.toString(CryptoJS.enc.Utf8);a=CryptoJS.AES.decrypt("U2FsdGVkX19bsHe8yrrl85WI1eKcmTHVBUVyUJwLXRs=",o);var s=a.toString(CryptoJS.enc.Utf8);r({url:"http://api.geonames.org/timezoneJSON",dataType:"jsonp",method:"GET",params:{lat:i[n].lat,lng:i[n].lon,username:s}}).success(function(e){t.times.fulltime=e.time;var r=e.time.split(" ");t.times.current=r[1];var n=e.sunrise.split(" ");t.times.sunrise=n[1];var i=e.sunset.split(" ");t.times.sunset=i[1]})}])}(),function(){"use strict";var e=angular.module("twitter_app",[]);e.factory("formatText",function(){return{add_links:function(e,t){for(var r=!1,n=e,i=0;!r;){var a=n.indexOf(t);if(-1==a||i>100)return r=!0,e;var o=n.substring(a),s=o.indexOf(" "),c="";switch(-1==s&&(s=n.length),o=o.substring(0,s),t){case"http":c="<a href="+o+' target="blank">'+o.substring(7)+"</a>";break;case"#":c="<a href=https://twitter.com/hashtag/"+o.substring(1)+'?src=hash target="blank">'+o.substring(0)+"</a>";break;case"@":c="<a href=https://twitter.com/"+o.substring(1)+' target="blank">'+o.substring(0)+"</a>"}var l=parseInt(a+s);n=n.substring(l),e=e.replace(o,c),i+=1}}}}),e.controller("TwitterCtrl",["$scope","$rootScope","$http",function(e,t,r){var n="",i=t.city.replace(" ","%20");n=t.state?"%23"+i+"%20"+t.state:"%23"+i+"%20"+t.country,$("#twitter_spinner i").css("display","inline-block"),r({url:"php/get_twitter.php",dataType:"json",params:{q:n},method:"GET"}).success(function(t){$("#twitter_spinner i").css("display","none"),e.tweets=t})}]),e.filter("addUrls",["$sce","formatText",function(e,t){return function(r){return r?(r=t.add_links(r,"http"),r=t.add_links(r,"#"),r=t.add_links(r,"@"),e.trustAsHtml(r)):void 0}}])}(),function(){"use strict";var e=angular.module("weather_app",[]);e.controller("CurWeatherCtrl",["$scope","$rootScope","$http",function(e,t,r){r({url:"http://api.openweathermap.org/data/2.5/weather",dataType:"json",method:"GET",params:{q:t.city_state_country,appid:"4e5600686359104d6dd1ad18d82bd70b"}}).success(function(t){e.cur_temp=t.main.temp,e.temp_max=t.main.temp_max,e.imagepath="http://openweathermap.org/img/w/"+t.weather[0].icon+".png",e.description=t.weather[0].description})}]),e.controller("DayForcastCtrl",["$scope","$rootScope","$http",function(e,t,r){var n="http://api.openweathermap.org/data/2.5/forecast";r({url:n,dataType:"json",method:"GET",params:{q:t.city_state_country,appid:"4e5600686359104d6dd1ad18d82bd70b"}}).success(function(r){var n="";n=t.times.fulltime?new Date(t.times.fulltime):new Date;var i=[],a=0,o=!1,s=r.list;for(var c in s)if(s.hasOwnProperty(c)){if(o)break;var l={},u=s[c];if("undefined"==u.dt)continue;var p=new Date(1e3*u.dt);if(n>p)continue;l.temps=u.main.temp;var f=p.toString(),h=f.slice(16,21);l.times=h;var d=u.weather[0].icon,m="http://openweathermap.org/img/w/"+d+".png";l.icons=String(m),l.descripts=String(u.weather[0].description),a+=1,a>11&&(o=!0),i.push(l)}e.daycast=i})}]),e.filter("temp",["$filter","$rootScope",function(e,t){return function(t,r){if(t){t-=273.15;var n=r[0],i=r[1];n=1;var a=e("number"),o="C"==i?"°C":"°F";return t&&"F"==i&&(t=(9*t/5+32).toFixed(2)),a(t,n)+o}return""}}])}(),function(){"use strict";var e=angular.module("yelp_app",[]);e.controller("MusicVenueCtrl",["$scope","$rootScope","$http",function(e,t,r){r({url:"php/yelp_sample.php",method:"GET",params:{term:"hotels",location:t.city_state_country}}).success(function(t){var r=[];r.push(jQuery.parseJSON(t)),r=jQuery.parseJSON(r),e.yelp_unavailable=!1,r.error&&(e.yelp_unavailable=!0),e.musicvenues=r.businesses}),e.select=function(t){t===e.selected?!0:!1;e.selected=t===e.selected?null:t},e.isActive=function(t){return e.selected===t}}]),e.controller("RestaurantCtrl",["$scope","$rootScope","$http",function(e,t,r){r({url:"php/yelp_sample.php",method:"GET",params:{term:"restaurant",location:t.city_state_country}}).success(function(t){var r=[];r.push(jQuery.parseJSON(t)),r=jQuery.parseJSON(r),e.yelp_unavailable=!1,r.error&&(e.yelp_unavailable=!0),e.restaurants=r.businesses}),e.select=function(t){t===e.selected?!0:!1;e.selected=t===e.selected?null:t},e.isActive=function(t){return e.selected===t}}]),e.controller("ClubCtrl",["$scope","$rootScope","$http",function(e,t,r){r({url:"php/yelp_sample.php",method:"GET",params:{term:"happy hour",location:t.city_state_country}}).success(function(t){var r=[];r.push(jQuery.parseJSON(t)),r=jQuery.parseJSON(r);Object.prototype.toString.call(r);e.yelp_unavailable=!1,r.error&&(e.yelp_unavailable=!0),e.clubs=r.businesses}),e.select=function(t){t===e.selected?!0:!1;e.selected=t===e.selected?null:t},e.isActive=function(t){return e.selected===t}}]),e.controller("GallaryCtrl",["$scope","$rootScope","$http",function(e,t,r){r({url:"php/yelp_sample.php",method:"GET",params:{term:"show",location:t.city_state_country}}).success(function(t){var r=[];r.push(jQuery.parseJSON(t)),r=jQuery.parseJSON(r),e.yelp_unavailable=!1,r.error&&(e.yelp_unavailable=!0),e.galleries=r.businesses}),e.select=function(t){e.selected=t===e.selected?null:t},e.isActive=function(t){return e.selected===t}}]),e.filter("toString",function(){return function(e){return e.toString()}})}(),function(){"use strict";var e=angular.module("Site",["ngRoute","ui.bootstrap","ngSanitize","weather_app","yelp_app","astro_app","movie_app","faroo_app","quote_app","time_app","mycity-directives","events_app","map_app","places_app","twitter_app","ngTouch","meetup_app","rates_app","nearby_app"]);e.controller("ShowHomeController",["$scope","$rootScope","$location","$http","MyService",function(e,t,r,n,i){t.locs=i.get_json_data(),t.nameLength=20,t.times={fulltime:0,current:0,sunrise:0,sunset:0};var a=r.hash();t.city=a?a.replace(/_/g," "):"Melbourne",t.city_id=a?a:"Melbourne",t.state=a?t.locs[a].state:"",t.country=a?t.locs[a].country:"au",t.newsdata={},t.newsdata.cat=a?t.locs[a].cat:"547",t.newsdata.subcat=a?t.locs[a].subcat:"21594",t.map=null,t.city_state_country="",t.city_state_country=t.state?t.city+", "+t.state+", "+t.country:t.city+", "+t.country;var o=t.locs;e.actions=[];for(var s in o)if(o.hasOwnProperty(s)){var c={};c.id=s;var l=o[s].state?s.replace(/_/g," ")+", "+o[s].state.toUpperCase():s.replace(/_/g," ");c.name=l,e.actions.push(c)}e.setAction=function(t){e.selectedAction=t,r.hash(e.selectedAction.id)}}]),e.controller("GetHeaderImage",["$scope","$rootScope","$http",function(e,t,r){var n,i=(Math.floor(10*Math.random()+1),t.city_id.toLowerCase());t.state&&(n=t.state.toLowerCase());var a=t.country.toLowerCase(),o="../images/"+i;n&&(o+="_"+n),o+="_"+a,e.myInterval=1e4,r({url:"php/get_image_files.php",dataType:"json",method:"GET",params:{filename:o}}).success(function(t){e.slides=t})}]),e.service("MyService",["$http",function(e){var t=null,r=e.get("js/city_data.json").success(function(e){t=e});return{promise:r,get_json_data:function(){return t}}}]),e.config(["$routeProvider",function(e){e.when("/ShowHome",{templateUrl:"partials/home.html",controller:"ShowHomeController",resolve:{MyServiceData:["MyService",function(e){return e.promise}]}}).otherwise({redirectTo:"/ShowHome"})}]),e.directive("tooltip",function(){return{restrict:"A",link:function(e,t,r){$(t).hover(function(){$(t).tooltip("show"),setTimeout(function(){$(t).tooltip("hide")},3e3)},function(){$(t).tooltip("hide")})}}})}();